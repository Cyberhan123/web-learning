<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>组件</title>
</head>
<body>
<div id="root"></div>
</body>
<script src="js/react.development.js"></script>
<script src="js/react-dom.development.js"></script>
<script src="js/browser.min.js"></script>
<script type="text/babel">

    class Chstate extends React.Component {
        constructor(props) {
            super(props);
            this.state = {
                count: 0,
            };
            console.log(props);
        }
        //要用.bind 修改 this的指向
        add(e){
            var tmp=this.state.count;
            tmp++;
            //必须用setState修改state内部的值
            e.target.background="red";
            console.log(this.refs.h5);
            this.setState({
                count:tmp,
            })
        }

        render() {
            // add不能加括号
            return (
                <div>
                    <h5>测试state 类定义的组件</h5>
                    <button onClick={()=>{this.add(event)}}>点击</button>
                    <h5 ref="h5">{this.state.count}</h5>
                </div>

            );
        }
    }
    // Object.defineProperties()双向数据绑定

    ReactDOM.render(
        <div>
            <Chstate>这是标签中间</Chstate>
        </div>,
        document.getElementById('root')
    )
</script>
</html>